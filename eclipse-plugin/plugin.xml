<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <!-- Commands -->
   <extension point="org.eclipse.ui.commands">
      <category
            id="com.kosac.ai.codegen.commands.category"
            name="xFrame5 UI Generator">
      </category>
      <category
            id="com.kosac.ai.codegen.commands.springCategory"
            name="Spring Code Generator">
      </category>
      <!-- xFrame5 Commands -->
      <command
            categoryId="com.kosac.ai.codegen.commands.category"
            id="com.kosac.ai.codegen.commands.generateFromSchema"
            name="Generate from DB Schema">
      </command>
      <command
            categoryId="com.kosac.ai.codegen.commands.category"
            id="com.kosac.ai.codegen.commands.generateFromQuery"
            name="Generate from Query Sample">
      </command>
      <command
            categoryId="com.kosac.ai.codegen.commands.category"
            id="com.kosac.ai.codegen.commands.generateFromNL"
            name="Generate from Description">
      </command>
      <!-- Spring Commands -->
      <command
            categoryId="com.kosac.ai.codegen.commands.springCategory"
            id="com.kosac.ai.codegen.commands.springGenerateFromSchema"
            name="Generate Spring Backend from DB Schema">
      </command>
      <command
            categoryId="com.kosac.ai.codegen.commands.springCategory"
            id="com.kosac.ai.codegen.commands.springGenerateFromQuery"
            name="Generate Spring Backend from Query Sample">
      </command>
      <command
            categoryId="com.kosac.ai.codegen.commands.springCategory"
            id="com.kosac.ai.codegen.commands.springGenerateFromNL"
            name="Generate Spring Backend from Description">
      </command>
   </extension>

   <!-- Handlers -->
   <extension point="org.eclipse.ui.handlers">
      <!-- xFrame5 Handlers -->
      <handler
            class="com.kosac.ai.codegen.handlers.GenerateFromSchemaHandler"
            commandId="com.kosac.ai.codegen.commands.generateFromSchema">
      </handler>
      <handler
            class="com.kosac.ai.codegen.handlers.GenerateFromQueryHandler"
            commandId="com.kosac.ai.codegen.commands.generateFromQuery">
      </handler>
      <handler
            class="com.kosac.ai.codegen.handlers.GenerateFromNLHandler"
            commandId="com.kosac.ai.codegen.commands.generateFromNL">
      </handler>
      <!-- Spring Handlers -->
      <handler
            class="com.kosac.ai.codegen.handlers.SpringGenerateFromSchemaHandler"
            commandId="com.kosac.ai.codegen.commands.springGenerateFromSchema">
      </handler>
      <handler
            class="com.kosac.ai.codegen.handlers.SpringGenerateFromQueryHandler"
            commandId="com.kosac.ai.codegen.commands.springGenerateFromQuery">
      </handler>
      <handler
            class="com.kosac.ai.codegen.handlers.SpringGenerateFromNLHandler"
            commandId="com.kosac.ai.codegen.commands.springGenerateFromNL">
      </handler>
   </extension>

   <!-- Main Menu -->
   <extension point="org.eclipse.ui.menus">
      <!-- xFrame5 Main Menu -->
      <menuContribution
            allPopups="false"
            locationURI="menu:org.eclipse.ui.main.menu?after=additions">
         <menu
               id="com.kosac.ai.codegen.menus.mainMenu"
               label="xFrame5"
               mnemonic="X">
            <command
                  commandId="com.kosac.ai.codegen.commands.generateFromSchema"
                  label="Generate from DB Schema..."
                  mnemonic="S"
                  style="push">
            </command>
            <command
                  commandId="com.kosac.ai.codegen.commands.generateFromQuery"
                  label="Generate from Query Sample..."
                  mnemonic="Q"
                  style="push">
            </command>
            <command
                  commandId="com.kosac.ai.codegen.commands.generateFromNL"
                  label="Generate from Description..."
                  mnemonic="D"
                  style="push">
            </command>
            <separator
                  name="com.kosac.ai.codegen.menus.separator1"
                  visible="true">
            </separator>
            <command
                  commandId="org.eclipse.ui.window.preferences"
                  label="Preferences..."
                  mnemonic="P"
                  style="push">
               <parameter
                     name="preferencePageId"
                     value="com.kosac.ai.codegen.preferences.MainPreferencePage">
               </parameter>
            </command>
         </menu>
      </menuContribution>

      <!-- Spring Main Menu -->
      <menuContribution
            allPopups="false"
            locationURI="menu:org.eclipse.ui.main.menu?after=additions">
         <menu
               id="com.kosac.ai.codegen.menus.springMainMenu"
               label="Spring"
               mnemonic="R">
            <command
                  commandId="com.kosac.ai.codegen.commands.springGenerateFromSchema"
                  label="Generate Backend from DB Schema..."
                  mnemonic="S"
                  style="push">
            </command>
            <command
                  commandId="com.kosac.ai.codegen.commands.springGenerateFromQuery"
                  label="Generate Backend from Query Sample..."
                  mnemonic="Q"
                  style="push">
            </command>
            <command
                  commandId="com.kosac.ai.codegen.commands.springGenerateFromNL"
                  label="Generate Backend from Description..."
                  mnemonic="D"
                  style="push">
            </command>
            <separator
                  name="com.kosac.ai.codegen.menus.springSeparator1"
                  visible="true">
            </separator>
            <command
                  commandId="org.eclipse.ui.window.preferences"
                  label="Preferences..."
                  mnemonic="P"
                  style="push">
               <parameter
                     name="preferencePageId"
                     value="com.kosac.ai.codegen.preferences.MainPreferencePage">
               </parameter>
            </command>
         </menu>
      </menuContribution>

      <!-- Context Menu for Project Explorer - xFrame5 -->
      <menuContribution
            allPopups="false"
            locationURI="popup:org.eclipse.ui.popup.any?after=additions">
         <menu
               id="com.kosac.ai.codegen.menus.popupMenu"
               label="xFrame5 Generate">
            <visibleWhen checkEnabled="false">
               <with variable="selection">
                  <iterate ifEmpty="false">
                     <adapt type="org.eclipse.core.resources.IResource"/>
                  </iterate>
               </with>
            </visibleWhen>
            <command
                  commandId="com.kosac.ai.codegen.commands.generateFromSchema"
                  label="From DB Schema..."
                  style="push">
            </command>
            <command
                  commandId="com.kosac.ai.codegen.commands.generateFromQuery"
                  label="From Query Sample..."
                  style="push">
            </command>
            <command
                  commandId="com.kosac.ai.codegen.commands.generateFromNL"
                  label="From Description..."
                  style="push">
            </command>
         </menu>
      </menuContribution>

      <!-- Context Menu for Project Explorer - Spring -->
      <menuContribution
            allPopups="false"
            locationURI="popup:org.eclipse.ui.popup.any?after=additions">
         <menu
               id="com.kosac.ai.codegen.menus.springPopupMenu"
               label="Spring Generate">
            <visibleWhen checkEnabled="false">
               <with variable="selection">
                  <iterate ifEmpty="false">
                     <adapt type="org.eclipse.core.resources.IResource"/>
                  </iterate>
               </with>
            </visibleWhen>
            <command
                  commandId="com.kosac.ai.codegen.commands.springGenerateFromSchema"
                  label="From DB Schema..."
                  style="push">
            </command>
            <command
                  commandId="com.kosac.ai.codegen.commands.springGenerateFromQuery"
                  label="From Query Sample..."
                  style="push">
            </command>
            <command
                  commandId="com.kosac.ai.codegen.commands.springGenerateFromNL"
                  label="From Description..."
                  style="push">
            </command>
         </menu>
      </menuContribution>
   </extension>

   <!-- Preference Pages -->
   <extension point="org.eclipse.ui.preferencePages">
      <page
            class="com.kosac.ai.codegen.preferences.MainPreferencePage"
            id="com.kosac.ai.codegen.preferences.MainPreferencePage"
            name="Code Generator">
      </page>
   </extension>

   <!-- Preference Initializer -->
   <extension point="org.eclipse.core.runtime.preferences">
      <initializer class="com.kosac.ai.codegen.preferences.PreferenceInitializer"/>
   </extension>
</plugin>
